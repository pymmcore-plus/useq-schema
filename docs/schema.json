{"title": "MDASequence", "description": "A sequence of MDA (Multi-Dimensional Acquisition) events.\n\nThis is the core object in the `useq` library, and is used define a sequence of\nevents to be run on a microscope. It object may be constructed manually, or from\nfile (e.g. json or yaml).\n\nThe object itself acts as an iterator for [`useq.MDAEvent`][] objects:\n\nParameters\n----------\naxis_order : str\n    The order of the axes in the sequence. Must be a permutation of \"tpcz\". The\n    default is \"tpcz\".\nstage_positions : tuple[Position, ...]\n    The stage positions to visit. (each with `x`, `y`, `z`, `name`, and `z_plan`,\n    all of which are optional).\nchannels : tuple[Channel, ...]\n    The channels to acquire. see `Channel`.\ntime_plan : MultiPhaseTimePlan | TIntervalDuration | TIntervalLoops         | TDurationLoops | NoT\n    The time plan to follow. One of `TIntervalDuration`, `TIntervalLoops`,\n    `TDurationLoops`, `MultiPhaseTimePlan`, or `NoT`\nz_plan : ZTopBottom | ZRangeAround | ZAboveBelow | ZRelativePositions |         ZAbsolutePositions | NoZ\n    The z plan to follow. One of `ZTopBottom`, `ZRangeAround`, `ZAboveBelow`,\n    `ZRelativePositions`, `ZAbsolutePositions`, or `NoZ`.\n\nExamples\n--------\n>>> from useq import MDASequence, Position, Channel, TIntervalDuration\n>>> seq = MDASequence(\n...     time_plan={\"interval\": 0.1, \"loops\": 2},\n...     stage_positions=[(1, 1, 1)],\n...     z_plan={\"range\": 3, \"step\": 1},\n...     channels=[{\"config\": \"DAPI\", \"exposure\": 1}]\n... )\n>>> print(seq)\nMulti-Dimensional Acquisition \u25b6 nt: 2, np: 1, nc: 1, nz: 4\n\n>>> for event in seq:\n...     print(event)\n\n>>> print(seq.yaml())\nchannels:\n- config: DAPI\n  exposure: 1.0\nstage_positions:\n- x: 1.0\n  y: 1.0\n  z: 1.0\ntime_plan:\n  interval: '0:00:00.100000'\n  loops: 2\nz_plan:\n  range: 3.0\n  step: 1.0", "type": "object", "properties": {"metadata": {"title": "Metadata", "type": "object"}, "axis_order": {"title": "Axis Order", "default": "tpcz", "type": "string"}, "stage_positions": {"title": "Stage Positions", "type": "array", "items": {"$ref": "#/definitions/Position"}}, "channels": {"title": "Channels", "type": "array", "items": {"$ref": "#/definitions/Channel"}}, "time_plan": {"title": "Time Plan", "anyOf": [{"$ref": "#/definitions/MultiPhaseTimePlan"}, {"$ref": "#/definitions/TIntervalDuration"}, {"$ref": "#/definitions/TIntervalLoops"}, {"$ref": "#/definitions/TDurationLoops"}, {"$ref": "#/definitions/NoT"}]}, "z_plan": {"title": "Z Plan", "anyOf": [{"$ref": "#/definitions/ZTopBottom"}, {"$ref": "#/definitions/ZRangeAround"}, {"$ref": "#/definitions/ZAboveBelow"}, {"$ref": "#/definitions/ZRelativePositions"}, {"$ref": "#/definitions/ZAbsolutePositions"}, {"$ref": "#/definitions/NoZ"}]}}, "definitions": {"ZTopBottom": {"title": "ZTopBottom", "description": "Define absolute top & bottom positions.", "type": "object", "properties": {"go_up": {"title": "Go Up", "default": true, "type": "boolean"}, "top": {"title": "Top", "type": "number"}, "bottom": {"title": "Bottom", "type": "number"}, "step": {"title": "Step", "type": "number"}}, "required": ["top", "bottom", "step"]}, "ZRangeAround": {"title": "ZRangeAround", "description": "Range symmetrically around some reference position.", "type": "object", "properties": {"go_up": {"title": "Go Up", "default": true, "type": "boolean"}, "range": {"title": "Range", "type": "number"}, "step": {"title": "Step", "type": "number"}}, "required": ["range", "step"]}, "ZAboveBelow": {"title": "ZAboveBelow", "description": "Range asymmetrically above and below some reference position.", "type": "object", "properties": {"go_up": {"title": "Go Up", "default": true, "type": "boolean"}, "above": {"title": "Above", "type": "number"}, "below": {"title": "Below", "type": "number"}, "step": {"title": "Step", "type": "number"}}, "required": ["above", "below", "step"]}, "ZRelativePositions": {"title": "ZRelativePositions", "description": "Direct list of relative z positions.", "type": "object", "properties": {"go_up": {"title": "Go Up", "default": true, "type": "boolean"}, "relative": {"title": "Relative", "type": "array", "items": {"type": "number"}}}, "required": ["relative"]}, "ZAbsolutePositions": {"title": "ZAbsolutePositions", "description": "Direct list of absolute z positions.", "type": "object", "properties": {"go_up": {"title": "Go Up", "default": true, "type": "boolean"}, "absolute": {"title": "Absolute", "type": "array", "items": {"type": "number"}}}, "required": ["absolute"]}, "NoZ": {"title": "NoZ", "description": "Don't acquire Z.", "type": "object", "properties": {"go_up": {"title": "Go Up", "default": true, "type": "boolean"}}}, "Position": {"title": "Position", "type": "object", "properties": {"x": {"title": "X", "type": "number"}, "y": {"title": "Y", "type": "number"}, "z": {"title": "Z", "type": "number"}, "name": {"title": "Name", "type": "string"}, "z_plan": {"title": "Z Plan", "anyOf": [{"$ref": "#/definitions/ZTopBottom"}, {"$ref": "#/definitions/ZRangeAround"}, {"$ref": "#/definitions/ZAboveBelow"}, {"$ref": "#/definitions/ZRelativePositions"}, {"$ref": "#/definitions/ZAbsolutePositions"}, {"$ref": "#/definitions/NoZ"}]}}}, "Channel": {"title": "Channel", "type": "object", "properties": {"config": {"title": "Config", "type": "string"}, "group": {"title": "Group", "default": "Channel", "type": "string"}, "exposure": {"title": "Exposure", "exclusiveMinimum": 0, "type": "number"}, "do_stack": {"title": "Do Stack", "default": true, "type": "boolean"}, "z_offset": {"title": "Z Offset", "default": 0.0, "type": "number"}, "acquire_every": {"title": "Acquire Every", "default": 1, "exclusiveMinimum": 0, "type": "integer"}, "camera": {"title": "Camera", "type": "string"}}, "required": ["config"]}, "TIntervalDuration": {"title": "TIntervalDuration", "type": "object", "properties": {"prioritize_duration": {"title": "Prioritize Duration", "default": true, "type": "boolean"}, "interval": {"title": "Interval", "type": "number", "format": "time-delta"}, "duration": {"title": "Duration", "type": "number", "format": "time-delta"}}, "required": ["interval", "duration"]}, "TIntervalLoops": {"title": "TIntervalLoops", "type": "object", "properties": {"prioritize_duration": {"title": "Prioritize Duration", "default": false, "type": "boolean"}, "interval": {"title": "Interval", "type": "number", "format": "time-delta"}, "loops": {"title": "Loops", "exclusiveMinimum": 0, "type": "integer"}}, "required": ["interval", "loops"]}, "TDurationLoops": {"title": "TDurationLoops", "type": "object", "properties": {"prioritize_duration": {"title": "Prioritize Duration", "default": false, "type": "boolean"}, "duration": {"title": "Duration", "type": "number", "format": "time-delta"}, "loops": {"title": "Loops", "exclusiveMinimum": 0, "type": "integer"}}, "required": ["duration", "loops"]}, "NoT": {"title": "NoT", "description": "Don't acquire T.", "type": "object", "properties": {"prioritize_duration": {"title": "Prioritize Duration", "default": false, "type": "boolean"}}}, "MultiPhaseTimePlan": {"title": "MultiPhaseTimePlan", "type": "object", "properties": {"prioritize_duration": {"title": "Prioritize Duration", "default": false, "type": "boolean"}, "phases": {"title": "Phases", "type": "array", "items": {"anyOf": [{"$ref": "#/definitions/TIntervalDuration"}, {"$ref": "#/definitions/TIntervalLoops"}, {"$ref": "#/definitions/TDurationLoops"}, {"$ref": "#/definitions/NoT"}]}}}, "required": ["phases"]}}}
